plugins {
  id 'org.jetbrains.kotlin.jvm' version '1.5.30'
  id("maven-publish")
}

Properties localProperties = new Properties() {
  {
    load(file("local.properties").newInputStream())
  }
}

repositories {
  mavenCentral()
}

group = "org.arxing"
version = "0.0.5"

publishing {
  repositories {
    maven {
      name = "BitriseKotlinSdk"
      url = uri("https://maven.pkg.github.com/Arxing/Bitrise-Kotlin-Sdk")
      println(localProperties.getProperty("gpr.user"))
      credentials {
        username = localProperties.getProperty("gpr.user")
        password = localProperties.getProperty("gpr.token")
      }
    }
  }
  publications {
    gpr(MavenPublication) {
      from(components.java)
    }
  }
}

dependencies {
  implementation "org.jetbrains.kotlin:kotlin-stdlib"

  implementation 'com.google.code.gson:gson:2.8.6'
  implementation 'com.squareup.retrofit2:retrofit:2.9.0'
  implementation "com.squareup.retrofit2:converter-gson:2.9.0"
  implementation 'com.squareup.retrofit2:converter-scalars:2.9.0'
  implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.4.2'
}
